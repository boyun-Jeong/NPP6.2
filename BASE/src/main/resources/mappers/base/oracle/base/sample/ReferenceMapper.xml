<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.base.sample.dao.ReferenceDAO">

    <!-- 단건 목록 조회 -->
    <select id="select01" parameterType="java.util.Map" resultType="java.util.Map">
            SELECT
                USER_ID ,
                USER_NAME,
                EN_NAME,
                COMP_PHONE,
                PHONE,
                CELL_PHONE,
                COMPANY,
                JOB_POSITION,
                ASSIGNMENT,
                OFFICER_YN,
                FAX,
                ZIP_CODE,
                ADDRESS,
                COMP_ZIP_CODE,
                COMP_ADDRESS,
                EMAIL,
                DEPT_ID,
                PASSWORD
            FROM TB_USER
            <where>
                <if test="searchKeyword != null">
                    <if test="searchCondition == 'NAME'">
                        AND USER_NAME LIKE '%' || #{searchKeyword} || '%'
                    </if>
                    <if test="searchCondition == 'ID'">
                        AND USER_ID LIKE '%' || #{searchKeyword} || '%' 
                    </if>
                </if>
            </where>
    </select>

    <!-- 다건 목록 조회 -->
    <select id="select02" parameterType="java.util.Map" resultType="java.util.Map">
            SELECT
                USER_ID ,
                USER_NAME,
                EN_NAME,
                COMP_PHONE,
                PHONE,
                CELL_PHONE,
                COMPANY,
                JOB_POSITION,
                ASSIGNMENT,
                OFFICER_YN,
                FAX,
                ZIP_CODE,
                ADDRESS,
                COMP_ZIP_CODE,
                COMP_ADDRESS,
                EMAIL,
                DEPT_ID,
                PASSWORD
            FROM TB_USER
    </select>
    
    <!-- 정보 등록 -->
    <insert id="insert01" parameterType="java.util.Map">
            INSERT INTO TB_USER (
				USER_ID,
				USER_NAME,
				EN_NAME,
				COMP_PHONE,
				PHONE,
				CELL_PHONE,
				COMPANY,
				JOB_POSITION,
				ASSIGNMENT,
				OFFICER_YN,
				FAX,
				ZIP_CODE,
				ADDRESS,
				COMP_ZIP_CODE,
				COMP_ADDRESS,
				EMAIL,
				DEPT_ID,
				PASSWORD
            ) VALUES (
				#{USER_ID},
				#{USER_NAME},
				#{EN_NAME},
				#{COMP_PHONE},
				#{PHONE},
				#{CELL_PHONE},
				#{COMPANY},
				#{JOB_POSITION},
				#{ASSIGNMENT},
				#{OFFICER_YN},
				#{FAX},
				#{ZIP_CODE},
				#{ADDRESS},
				#{COMP_ZIP_CODE},
				#{COMP_ADDRESS},
				#{EMAIL},
				#{DEPT_ID},
				#{PASSWORD}
            )
    </insert>

    <!-- 정보 수정 -->
    <update id="modify01" parameterType="java.util.Map">
            UPDATE TB_USER 
            SET USER_NAME=#{USER_NAME}
                , EN_NAME=#{EN_NAME}
                , COMP_PHONE=#{COMP_PHONE}
                , PHONE=#{PHONE}
                , CELL_PHONE=#{CELL_PHONE}
                , COMPANY=#{COMPANY}
                , JOB_POSITION=#{JOB_POSITION}
                , ASSIGNMENT=#{ASSIGNMENT}
                , OFFICER_YN=#{OFFICER_YN}
                , FAX=#{FAX}
                , ZIP_CODE=#{ZIP_CODE}
                , ADDRESS=#{ADDRESS}
                , COMP_ZIP_CODE=#{COMP_ZIP_CODE}
                , COMP_ADDRESS=#{COMP_ADDRESS}
                , EMAIL=#{EMAIL}
                , DEPT_ID=#{DEPT_ID}
                , PASSWORD=#{PASSWORD}
            WHERE USER_ID=#{USER_ID}
    </update>

    <!-- 정보 삭제 -->
    <update id="remove01" parameterType="java.util.Map">
            UPDATE TB_USER 
            SET USER_NAME=#{USER_NAME}
                , EN_NAME=#{EN_NAME}
                , COMP_PHONE=#{COMP_PHONE}
                , PHONE=#{PHONE}
                , CELL_PHONE=#{CELL_PHONE}
                , COMPANY=#{COMPANY}
                , JOB_POSITION=#{JOB_POSITION}
                , ASSIGNMENT=#{ASSIGNMENT}
                , OFFICER_YN=#{OFFICER_YN}
                , FAX=#{FAX}
                , ZIP_CODE=#{ZIP_CODE}
                , ADDRESS=#{ADDRESS}
                , COMP_ZIP_CODE=#{COMP_ZIP_CODE}
                , COMP_ADDRESS=#{COMP_ADDRESS}
                , EMAIL=#{EMAIL}
                , DEPT_ID=#{DEPT_ID}
                , PASSWORD=#{PASSWORD}
            WHERE USER_ID=#{USER_ID}
    </update>

</mapper>