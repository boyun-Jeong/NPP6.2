<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="ref23" width="1280" height="720" titletext="HighChart" onload="refChart_onload">
    <Layouts>
      <Layout height="720" mobileorientation="landscape" width="1280">
        <TextArea id="TextArea01" taborder="2" value="- ref::ref23.xfdl&#9;&#10;&#10;* 하이차트(HighChart) 사용 가이드&#10;하이차트 사용을 위한 스크립트 가이드를 제공한다.&#10;&#10;script 처리 (자세한 처리는 스크립트 참조)&#10;1) div배치 후 url setting&#10;- url속성에 'comm::comHighChartDiv.xfdl' 지정&#10;&#10;2) 차트 생성을 위한 스크립트 생성&#10;- comHighChartDiv.xfdl 파일은 'include &quot;lib::lib_HighChart.xjs&quot;' 하이차트 라이브러리를 include한다.&#10;- 샘플로 Pie 2D 차트, Dual Axes 차트가 구현되어 있음.&#10;- 다른 종류의 차트가 필요한 경우 lib_HighChart.xjs파일에 차트를 추가한다. (lib_HighChart.xjs 스크립트 참조)&#10;- 차트 추가 시 'https://www.highcharts.com/demo'에서 스크립트를 참조하여 작성하며, 기본 CORE차트만 사용할 수 있음.&#10;&#10;3) 차트 스크립트가 완성되었으면 div의 drawChart()를 호출하여 차트를 그린다.&#10;- 사용 예시&#10;  차트 스크립트 얻기&#9;:: var chartScript = this.divChart.form.hcfnGetPie2DChart(oParam, this.dsChart, 'Name', 'Value');&#10;&#9;&#9;&#9;&#9;//hcfnGetPie2DChart는 lib::lib_HighChart.xjs에 있음&#10;  차트 그리기&#9;&#9;:: this.divChart.form.drawChart(chartScript);&#10;&#10;4) 비고&#10;- 차트별 옵션이 다르므로 lib::lib_HighChart.xjs 또는 스크립트를 참조하여 파라미터를 올바르게 작성해야 차트가 그려진다." readonly="true" left="540.00" top="20" style="color:red;font:bold 9 Gulim;" right="20" bottom="350"/>
        <Button id="Button00" taborder="0" text="차트 그리기" left="20" top="10" width="120" height="32" onclick="Button00_onclick"/>
        <Div id="divChart2" taborder="3" text="Div00" left="20" top="390" width="500" height="300" url="comm::comHighChartDiv.xfdl" border="1px solid chocolate"/>
        <Button id="Button01" taborder="4" text="차트 그리기" left="20" top="354" width="120" height="32" onclick="Button01_onclick"/>
        <Div id="divChart3" taborder="5" text="Div00" left="540.00" top="391" width="225" height="129" url="comm::comHighChartDiv.xfdl" border="1px solid chocolate" visible="false"/>
        <Button id="Button00_00" taborder="6" text="차트 그리기" left="775.00" top="391" width="120" height="32" onclick="Button00_00_onclick" visible="false"/>
        <Div id="divChart4" taborder="7" text="Div00" left="540.00" top="561" width="225" height="129" url="comm::comHighChartDiv.xfdl" border="1px solid chocolate" visible="false"/>
        <Button id="Button00_00_00" taborder="8" text="차트 그리기" left="775.00" top="561" width="120" height="32" onclick="Button00_00_00_onclick" visible="false"/>
        <Div id="divChart" taborder="1" text="Div00" left="20" top="47" url="comm::comHighChartDiv.xfdl" border="1px solid chocolate" bottom="373" right="TextArea01:20"/>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[
this.refChart_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	// 업무화면 laod 전 공통 처리를 위한 함수. 
	// 업무단 소스는 fnInit을 onload로 취급하고 fnInit에 기술할 것.
	this.gfnFormOnLoad(this, this.fnInit);
};

this.fnInit = function()
{

}



this.Button00_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	// custom pie chart(donut)
	var oParam = {
		 colors		: []
		,title		: ''
		,subtitle	: ''
		,objDs		: this.dsChart
		,nameCol	: 'Name'
		,valueCol	: 'Value'
	};
	var chartScript = this.divChart.form.miraefnGetPie2DChart(oParam);
	trace(chartScript);
	this.divChart.form.drawChart(chartScript);
	
};


this.Button01_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	// custom half donut chart
	var oParam = {
		 colors		: []
		,title		: ''
		,subtitle	: ''
		,objDs		: this.dsChart
		,nameCol	: 'Name'
		,valueCol	: 'Value'
	};
	var chartScript = this.divChart2.form.miraefnGetHalfDonutChart(oParam);
	this.divChart2.form.drawChart(chartScript);
};

this.Button00_00_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oParam = {
		  title : 'pie2D chart test'
		, colors: ['#dfdfdf', '#111111', '#acacac']
		, fontFamily: 'NanumSquareR'
	};
	var chartScript = this.divChart3.form.hcfnGetPie2DChart(oParam, this.dsChart, 'Name', 'Value');
	trace(chartScript);
	//this.divChart3.form.drawChart(chartScript);
	var width = this.divChart3.getOffsetWidth();
	var height = this.divChart3.getOffsetHeight();
	trace("width:[" + width + "]height:[" + height + "]");
	this.divChart3.resize(100, 100);
	this.divChart3.form.drawChart(chartScript);
	this.divChart3.resize(width, height);
};

this.Button00_00_00_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oParam = {
		  fontFamily	: 'NanumSquareR'
		, title 		: 'MultiAxesChart Test'
		, align 		: 'center'
		, subtitle 		: 'MultiAxesChart subtitle'
		, subalign		: 'center'
		, xAxis			: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월']
		, yAxis			: {
					  title		: ['data1',		'data2',	'data3']
					, type		: ['column',	'spline',	'spline']
					, dataset	: [this.dsChart21,	this.dsChart22,	this.dsChart22]
					, valueCol	: ['data',	'data',		'data2']
					, prefix	: ['mm',	'°C',		'cm']
					, color		: ['red',	'green',	'blue']
		  }
	};
	var chartScript = this.divChart4.form.hcfnGetMultiAxesChart(oParam);
	trace(chartScript);
	this.divChart4.form.drawChart(chartScript);
};]]></Script>
    <Objects>
      <Dataset id="dsChart">
        <ColumnInfo>
          <Column id="Name" type="STRING" size="256"/>
          <Column id="Value" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="Name">Name1</Col>
            <Col id="Value">10.0</Col>
          </Row>
          <Row>
            <Col id="Name">Name2</Col>
            <Col id="Value">10.0</Col>
          </Row>
          <Row>
            <Col id="Name">Name3</Col>
            <Col id="Value">20</Col>
          </Row>
          <Row>
            <Col id="Name">Name4</Col>
            <Col id="Value">10.0</Col>
          </Row>
          <Row>
            <Col id="Name">Name5</Col>
            <Col id="Value">15</Col>
          </Row>
          <Row>
            <Col id="Name">Name6</Col>
            <Col id="Value">10.0</Col>
          </Row>
          <Row>
            <Col id="Name">Name7</Col>
            <Col id="Value">25</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsChart21">
        <ColumnInfo>
          <Column id="data" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="data">27.6</Col>
          </Row>
          <Row>
            <Col id="data">28.8</Col>
          </Row>
          <Row>
            <Col id="data">21.7</Col>
          </Row>
          <Row>
            <Col id="data">34.1</Col>
          </Row>
          <Row>
            <Col id="data">29.0</Col>
          </Row>
          <Row>
            <Col id="data">28.4</Col>
          </Row>
          <Row>
            <Col id="data">45.6</Col>
          </Row>
          <Row>
            <Col id="data">51.7</Col>
          </Row>
          <Row>
            <Col id="data">39.0</Col>
          </Row>
          <Row>
            <Col id="data">60.0</Col>
          </Row>
          <Row>
            <Col id="data">28.6</Col>
          </Row>
          <Row>
            <Col id="data">32.1</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsChart22">
        <ColumnInfo>
          <Column id="data" type="STRING" size="256"/>
          <Column id="data2" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="data">-13.6</Col>
            <Col id="data2">-5</Col>
          </Row>
          <Row>
            <Col id="data">-14.9</Col>
            <Col id="data2">-4</Col>
          </Row>
          <Row>
            <Col id="data">-5.8</Col>
            <Col id="data2">0</Col>
          </Row>
          <Row>
            <Col id="data">-0.7</Col>
            <Col id="data2">-2</Col>
          </Row>
          <Row>
            <Col id="data">3.1</Col>
            <Col id="data2">-1</Col>
          </Row>
          <Row>
            <Col id="data">13.0</Col>
            <Col id="data2">0</Col>
          </Row>
          <Row>
            <Col id="data">14.5</Col>
            <Col id="data2">0</Col>
          </Row>
          <Row>
            <Col id="data">10.8</Col>
            <Col id="data2">4</Col>
          </Row>
          <Row>
            <Col id="data">5.8</Col>
            <Col id="data2">0</Col>
          </Row>
          <Row>
            <Col id="data">-0.7</Col>
            <Col id="data2">4</Col>
          </Row>
          <Row>
            <Col id="data">-11.0</Col>
            <Col id="data2">10</Col>
          </Row>
          <Row>
            <Col id="data">-16.4</Col>
            <Col id="data2">-5</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
  </Form>
</FDL>
